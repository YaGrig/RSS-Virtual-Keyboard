(()=>{"use strict";var e={d:(t,r)=>{for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};function t(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,s=function(){};return{s,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}e.d({},{N:()=>a});var n=function(e){return"<i class = 'material-icons'>".concat(e,"</i>")},a={elements:{main:null,keysContainer:null,input:null,keys:[],explanation:null},properties:{value:"",capslock:!1,language:"english",funcButtons:[],keyLayoutEng:["`","1","2","3","4","5","6","7","8","9","0","-","=","backspace","↔","q","w","e","r","t","y","u","i","o","p","[","]","caps","a","s","d","f","g","h","j","k","l",";","'","\\","enter","shift","z","x","c","v","b","n","m",",",".","/","↑","ctrl","win","alt","space","←","↕","→"],keyLayoutRu:["`","1","2","3","4","5","6","7","8","9","0","-","=","backspace","↔","й","ц","у","к","е","н","г","ш","щ","з","х","ъ","caps","ф","ы","в","а","п","р","о","л","д","ж","э","\\","enter","shift","я","ч","с","м","и","т","ь","б","ю",".","↑","space","←","↕","→"]},addInteraction:function(e){e.classList.add("key-activated"),setTimeout((function(){e.classList.remove("key-activated")}),500)},init:function(){this.elements.main=document.createElement("div"),this.elements.keysContainer=document.createElement("div"),this.elements.input=document.createElement("textarea"),this.elements.input.classList.add("text-area"),this.elements.explanation=document.createElement("div");var e=document.createElement("p");this.elements.main.classList.add("keyboard"),this.elements.keysContainer.classList.add("keyboard__wrapper"),this.elements.keysContainer.appendChild(this.createKeys()),this.elements.explanation.classList.add("exlanation_wrapper"),this.elements.explanation.appendChild(e),e.classList.add("explanation_text"),e.innerHTML="Windows <br> shift + alt to change language",this.elements.main.appendChild(this.elements.keysContainer),this.elements.main.appendChild(this.elements.input),this.elements.main.appendChild(this.elements.explanation),document.body.appendChild(this.elements.main),this.elements.input.value=this.properties.value},toggleCapsLock:function(){var e=this;!1===this.properties.capslock?(this.elements.keys.forEach((function(t){e.properties.funcButtons.includes(t)||(t.textContent=t.textContent.toUpperCase())})),this.properties.capslock=!0):!0===this.properties.capslock&&(this.elements.keys.forEach((function(t){e.properties.funcButtons.includes(t)||(t.textContent=t.textContent.toLowerCase())})),this.properties.capslock=!1)},refrechValue:function(){this.elements.input.value=this.properties.value},createKeys:function(){var e=this,t=document.createDocumentFragment(),r=this.properties.keyLayoutEng;return r.forEach((function(a){var s=document.createElement("button"),o=-1!==["backspace","]","enter","↑"].indexOf(a),i=["[","]",";","'","\\",",",".","/","`","-","=","↑","←","→","↕","↔"];switch(s.setAttribute("type","button"),s.classList.add("key"),s.dataset.key="Key".concat(a.toUpperCase()),s.dataset.Ru=e.properties.keyLayoutRu[r.indexOf(a)],s.dataset.Eng=e.properties.keyLayoutEng[r.indexOf(a)],i.includes(a)&&(s.dataset.Extra=["BracketLeft","BracketRight","Semicolon","Quote","Backslash","Comma","Period","Slash","Backquote","Minus","Equal","ArrowUp","ArrowLeft","ArrowRight","ArrowDown","Tab"][i.indexOf(a)]),a){case"backspace":s.classList.add("wider"),s.innerHTML=n("backspace"),e.properties.funcButtons.push(s),s.addEventListener("click",(function(){e.properties.value=e.properties.value.substring(0,e.properties.value.length-1),e.refrechValue(),e.addInteraction(s)}));break;case"↔":s.classList.add("wider"),e.properties.funcButtons.push(s),s.textContent=a.toLowerCase(),s.addEventListener("click",(function(){e.properties.value=e.properties.value.substring(0,e.properties.value.length-1),e.refrechValue(),e.addInteraction(s)}));break;case"del":s.classList.add("wider"),e.properties.funcButtons.push(s),s.textContent=a.toLowerCase(),s.addEventListener("click",(function(){e.properties.value+="    ",e.refrechValue(),e.addInteraction(s)}));break;case"shift":s.classList.add("shift"),e.properties.funcButtons.push(s),s.textContent=a.toLowerCase(),s.addEventListener("click",(function(){e.addInteraction(s)}));break;case"caps":s.classList.add("wider"),s.innerHTML=n("keyboard_capslock"),e.properties.funcButtons.push(s),s.addEventListener("click",(function(){e.toggleCapsLock(),e.addInteraction(s)}));break;case"enter":s.classList.add("wider"),s.innerHTML=n("subdirectory_arrow_right"),e.properties.funcButtons.push(s),s.addEventListener("click",(function(){e.properties.value+="\n",e.refrechValue(),e.addInteraction(s)}));break;case"space":s.classList.add("extra-wider","space"),s.innerHTML=n("space_bar"),e.properties.funcButtons.push(s),s.addEventListener("click",(function(){e.properties.value+=" ",e.refrechValue(),e.addInteraction(s)}));break;case"ctrl":s.classList.add("wider"),s.textContent=a.toLowerCase(),e.properties.funcButtons.push(s);break;case"alt":case"↑":s.classList.add("wider"),s.textContent=a.toLowerCase(),e.properties.funcButtons.push(s),s.addEventListener("click",(function(){e.addInteraction(s)}));break;case"win":s.textContent=a.toLowerCase(),e.properties.funcButtons.push(s),s.addEventListener("click",(function(){e.addInteraction(s)}));break;case"←":s.classList.add("wider"),s.textContent=a.toLowerCase(),e.properties.funcButtons.push(s),s.addEventListener("click",(function(){e.properties.value+="←",e.refrechValue(),e.addInteraction(s)}));break;case"↕":s.classList.add("wider"),s.textContent=a.toLowerCase(),e.properties.funcButtons.push(s),s.addEventListener("click",(function(){e.properties.value+="↕",e.refrechValue(),e.addInteraction(s)}));break;case"→":s.classList.add("wider"),s.textContent=a.toLowerCase(),e.properties.funcButtons.push(s),s.addEventListener("click",(function(){e.properties.value+="→",e.refrechValue(),e.addInteraction(s)}));break;default:s.textContent=a.toLowerCase(),s.addEventListener("click",(function(){"english"===e.properties.language?(e.properties.value+=e.properties.capslock?a.toUpperCase():a.toLowerCase(),e.refrechValue()):(e.properties.value+=e.properties.capslock?s.dataset.Ru.toUpperCase():s.dataset.Ru.toLowerCase(),e.refrechValue()),e.addInteraction(s)}))}e.elements.keys.push(s),t.appendChild(s),o&&t.appendChild(document.createElement("br"))})),t}};window.addEventListener("DOMContentLoaded",(function(){a.init(),"russian"===localStorage.getItem("language")&&function(){if("russian"===localStorage.getItem("language")){a.properties.language="russian";for(var e=a.elements.keys,t=0;t<e.length;t++)console.log(t),e[t].dataset.Ru&&!a.properties.funcButtons.includes(e[t])&&(e[t].textContent=e[t].dataset.Ru)}}()}));var s=[],o=[];document.addEventListener("keydown",(function(e){s.push(e),s.forEach((function(e){o.push(function(e,r,n){if(console.log(r),e.shiftKey&&e.altKey)if("english"===a.properties.language){localStorage.setItem("language","russian"),a.properties.language="russian";var s,o=t(a.elements.keys);try{for(o.s();!(s=o.n()).done;)(n=s.value).dataset.Ru&&!0===a.properties.capslock&&!a.properties.funcButtons.includes(n)?n.textContent=n.dataset.Ru.toUpperCase():n.dataset.Ru&&!1===a.properties.capslock&&!a.properties.funcButtons.includes(n)&&(n.textContent=n.dataset.Ru.toLowerCase())}catch(e){o.e(e)}finally{o.f()}}else{localStorage.clear(),a.properties.language="english";var i,c=t(a.elements.keys);try{for(c.s();!(i=c.n()).done;)n=i.value,console.log(n,a.properties.capslock),!0!==a.properties.capslock||a.properties.funcButtons.includes(n)?!1!==a.properties.capslock||a.properties.funcButtons.includes(n)||(n.textContent=n.dataset.Eng.toLowerCase()):n.textContent=n.dataset.Eng.toUpperCase()}catch(e){c.e(e)}finally{c.f()}}if("Backspace"===r){var u=document.querySelector('[data-key="KeyBACKSPACE"]');return a.properties.value=a.properties.value.substring(0,a.properties.value.length-1),e.preventDefault(),a.refrechValue(),u}if("CapsLock"===r){var l=document.querySelector('[data-key="KeyCAPS"]');return a.toggleCapsLock(),e.preventDefault(),a.refrechValue(),l}if("Enter"===r){var p=document.querySelector('[data-key="KeyENTER"]');return a.properties.value+="\n",e.preventDefault(),a.refrechValue(),p}if("Space"===r){var d=document.querySelector('[data-key="KeySPACE"]');return a.properties.value+=" ",e.preventDefault(),a.refrechValue(),d}if("Tab"===r){var f=document.querySelector('[data--extra="Tab"]');return a.properties.value+="    ",e.preventDefault(),a.refrechValue(),f}if(r.includes("Key")){var h=document.querySelector('[data-key="'.concat(r,'"]'));return"english"===a.properties.language?a.properties.value+=h.textContent:a.properties.value+=h.dataset.Ru,a.refrechValue(),h}if(r.includes("Digit")){var v=document.querySelector('[data-key="Key'.concat(r.substring(r.length,r.length-1),'"]'));return a.properties.value+=v.textContent,a.refrechValue(),v}if(r.includes("Arrow")){var y=document.querySelector('[data--extra="'.concat(r,'"]'));a.properties.value+=y.textContent,a.refrechValue();var k=new Range,m=document.querySelector(".text-area");return k.setStart(m.firstChild,1),k.setEnd(m.firstChild,3),alert(k),y}if("ShiftLeft"===r||"ShiftRight"===r){var g=document.querySelector('[data-key="KeySHIFT"]');return e.preventDefault(),g}if("ControlLeft"===r||"ControlRight"===r){var L=document.querySelector('[data-key="KeyCTRL"]');return L.classList.add("key-activated"),e.preventDefault(),a.refrechValue(),L}if(["BracketLeft","BracketRight","Semicolon","Quote","Backslash","Comma","Period","Slash","Backquote","Minus","Equal"].includes(r)){var C=document.querySelector('[data--extra="'.concat(r,'"]'));return"english"===a.properties.language?a.properties.value+=C.textContent:a.properties.value+=C.dataset.Ru,a.refrechValue(),C}if("AltLeft"===r||"AltRight"===r){var b=document.querySelector('[data-key="KeyALT"]');return e.preventDefault(),b}}(e,e.code,e.key)),o.map((function(e){return e.classList.add("key-activated")}))}))})),document.addEventListener("keyup",(function(e){s=[],o.map((function(e){return e.classList.remove("key-activated")})),o=[]}))})();